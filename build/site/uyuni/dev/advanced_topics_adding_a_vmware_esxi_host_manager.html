<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventorying vCenter/vSphere ESXi Hosts with  :: Uyuni Documentation (Prototype)</title>
    <meta name="generator" content="Antora 1.0.3">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">Uyuni Documentation (Prototype)</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="uyuni" data-version="dev">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">Uyuni</span>
    <span class="version">dev</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Uyuni</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="MAIN-manager.html">dev</a>
        </li>
        <li class="version">
          <a href="../3.2/MAIN-manager.html">3.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="MAIN-manager.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="MAIN-manager.html">Uyuni</a></li>
    <li class="crumb"><a href="advanced_topics_adding_a_vmware_esxi_host_manager.html">Inventorying vCenter/vSphere ESXi Hosts with </a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">dev</button>
  <div class="versions-menu">
    <a class="version is-current" href="advanced_topics_adding_a_vmware_esxi_host_manager.html">dev</a>
    <a class="version" href="../3.2/advanced_topics_adding_a_vmware_esxi_host_manager.html">3.2</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/jcayouette/uyuni-doc-test/edit/master/docs/modules/ROOT/pages/advanced_topics_adding_a_vmware_esxi_host_manager.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Inventorying vCenter/vSphere ESXi Hosts with </h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_requirements">Requirements</a></li>
<li><a href="#_permissions_and_roles_overview">Permissions and Roles Overview</a></li>
<li><a href="#_adding_new_users_and_assigning_roles">Adding New Users and Assigning Roles</a></li>
<li><a href="#_inventorying_vcenter_vsphere_esxi_hosts">Inventorying vCenter/vSphere ESXi Hosts</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a><a class="link" href="#_introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Foreign virtual hosts (such as vCenter and vSphere ESXi) can be inventoried using the <code class="guimenu">Virtual Host Manager</code>.
From the vSphere Client you can define roles and permissions for vCenter and vSphere ESXi users allowing vSphere objects and resources to be imported and inventoried by .
Objects and resources are then displayed as foreign hosts on the  <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Virtual Systems</b></span> page.</p>
</div>
<div class="paragraph">
<p>The following sections will guide you through:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Requirements</p>
</li>
<li>
<p>Overview of permissions and roles</p>
</li>
<li>
<p>Adding vCenter and vSphere ESXi hosts to </p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements"><a class="anchor" href="#_requirements"></a><a class="link" href="#_requirements">Requirements</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This table displays the default API communication port and required access rights for inventorying objects and resources:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Ports / Permissions</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default port that  uses to access the ESXi API for obtaining infrastructure data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">read-only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All vCenter/ESXi objects and resources that should be inventoried by the Virtual Host Manager should be at least assigned the <em>read-only</em> role.
Mark objects and resources with <em>no-access</em> to exclude them from the inventory.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_permissions_and_roles_overview"><a class="anchor" href="#_permissions_and_roles_overview"></a><a class="link" href="#_permissions_and_roles_overview">Permissions and Roles Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section will guide you through assigning user permissions and roles in vCenter/ESXi.</p>
</div>
<div class="paragraph">
<p>A user is someone who has been authorized to access an ESXi host.
The Virtual Host Manager (located on the SUSE Manager server) will inventory ESXi data defined by assigned roles and permissions on a user account.</p>
</div>
<div class="paragraph">
<p>For example: The user <em>John</em> has been assigned the <em>read-only</em> access role to all servers and datacenters in his company with one exception.
John&#8217;s account has been assigned the <em>no-access</em> role on the company&#8217;s <em>Financial Database server</em>.
You decide to use John&#8217;s user account and add the ESXi host to SUSE Manager.
During the inventory the <em>Financial Database server</em> will be excluded.</p>
</div>
<div class="paragraph">
<p>Keep user access roles in mind when planning to add ESXi hosts to SUSE manager.
Note that SUSE Manager will not inventory any objects or resources assigned with the <em>no-access</em> role on any user account.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title=":bulb:"></i>
</td>
<td class="content">
<div class="title">User Roles/Permissions</div>
<div class="paragraph">
<p>When planning to add new ESXi hosts to SUSE Manager, consider if the roles and permissions assigned users require need to be inventoried by SUSE Manager.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_new_users_and_assigning_roles"><a class="anchor" href="#_adding_new_users_and_assigning_roles"></a><a class="link" href="#_adding_new_users_and_assigning_roles">Adding New Users and Assigning Roles</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>See the official vSphere documentation on adding new users and assigning roles.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://pubs.vmware.com/vsphere-50/index.jsp#com.vmware.vsphere.security.doc_50/GUID-D7AEC653-EBC8-4573-B990-D8E58742F8ED.html">Authentication and User Management</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inventorying_vcenter_vsphere_esxi_hosts"><a class="anchor" href="#_inventorying_vcenter_vsphere_esxi_hosts"></a><a class="link" href="#_inventorying_vcenter_vsphere_esxi_hosts">Inventorying vCenter/vSphere ESXi Hosts</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This procedure guides you through inventorying a VSphere ESXi host with .</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From the  WebUI select <span class="menuseq"><b class="menu">Main Menu</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Virtual Host Managers</b></span> from the left navigation bar.</p>
</li>
<li>
<p>From the upper right corner of the <em>Virtual Host Managers</em> page select <b class="button">Create</b> VMWare-based.</p>
</li>
<li>
<p>From the <em>Add a VMware-based Virtual Host Manager</em> page complete these fields with your ESXi host data:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Label</dt>
<dd>
<p>Custom name for your Virtual Host Manager</p>
</dd>
<dt class="hdlist1">Hostname</dt>
<dd>
<p>Fully-qualified domain name (FQDN) or host IP address</p>
</dd>
<dt class="hdlist1">Port</dt>
<dd>
<p>Default ESXi API port</p>
</dd>
<dt class="hdlist1">Username</dt>
<dd>
<p>Assign a username</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title=":heavy_exclamation_mark:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Remember that only objects and resources which match a user&#8217;s defined role will be inventoried.
Set the user&#8217;s role on objects and resources you want inventoried to <em>read-only</em>.</p>
</div>
</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">Password</dt>
<dd>
<p>ESXi users password</p>
<div class="imageblock">
<div class="content">
<img src="_images/systems_virtual_host_managers_vmware.png" alt="systems virtual host managers vmware">
</div>
</div>
</dd>
</dl>
</div>
</li>
<li>
<p>Click the <b class="button">Create</b> button.</p>
</li>
<li>
<p>From the <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Virtual Host Managers</b></span> page select the new Virtual Host manager.</p>
</li>
<li>
<p>From the <span class="menuseq"><b class="menu">Virtual Host Managers</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Properties</b></span> page click the <b class="button">Refresh</b> button.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title=":heavy_exclamation_mark:"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you do not refresh the data from a new Virtual Host Manager, host data will not be inventoried and therefore will not be displayed under <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Virtual Systems</b></span>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>View inventoried ESXi host objects and resources by selecting <span class="menuseq"><b class="menu">Systems</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Virtual Systems</b></span> .</p>
</li>
</ol>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
